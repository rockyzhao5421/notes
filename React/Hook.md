总算把 HOC、RenderProps 搞懂了，但是实在不理解 Hook 比这两位好在什么地方。所以只能慢慢学习 Hook，慢慢理解了。这篇笔记就算记录自己的理解过程把。

# 由来

### 类组件和函数组件
开始 React 只有类组件，后面 FB 觉得类组件不好，推出了函数组件。其实，两种写法代表了两个编程的方法论：

+ 面向对象编程：逻辑和数据都封装在类里面。
+ 函数式编程：每个功能都应该是纯函数
  
对于函数组件来说，也应该是纯函数：只有输入输出，输入什么```props```就输出什么样的元素；不关调用多少次，只要输入一样，输出也一定不会变，就是说没有状态。

**函数的返回值只依赖于其输入值，这种特性就称为引用透明性（referential transparency）**

### 副作用

既然函数组件是纯函数，那么写日志、请求数据、组件的状态这些代码怎么处理？

函数式编程给这些操作起了名字叫"副作用"，函数式编程怎么处理这些副作用又同时保持纯函数呢：

函数式编程是一种隔离应用逻辑（表达）与实际运行时解释的方法。

你的“函数式代码”用来表达（但不执行）所需要达成的执行效果，返回某种形式的数据结构来描述这个计算结果。然后，我们会在一个解释器中来执行该结果，后者不是函数式的。

完全的纯函数式编程是不可能的，我们还需要一个解释器来真实的进行IO操作，如读写文件、网络等。将两者隔离会带来很多的优势：纯函数式代码，更易于测试，引用透明性会让代码可读性提升，提高开发阶段的效率，减少BUG，提高产品质量。同时，函数式编程，相比命令式编程，可以让很多复杂的代码便得更简单。

因此，在函数式语言中，处理副作用的方式就是隔离副作用，使用纯函数式的代码，来计算”副作用“，并将其表示为一个”值“，然后将该值交给一个解释器来执行.

通过隔离，尽量让纯函数式部分占比最大化，而让有副作用的部分限制在较小的比例中。（尽管如此，在很多应用中，这一块还是占有相当大的比例。）

函数式编程，特别是纯函数式编程，尝试最小化状态带来的副作用，因此被认为是声明式的。大多数函数式编程语言，例如Scheme、Clojure、Haskell、OCaml、Standard ML和Unlambda，允许副作用的存在。